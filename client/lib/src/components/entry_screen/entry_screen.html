<find-widget ng-show="selectedExercise == null"
             selected-handler="onExerciseSelected"></find-widget>
<div ng-if="selectedExercise != null">
  <div class="row">
    <div class="col-xs-12">
      <select ng-model="selectedUser" ng-change="userChanged()">
        <option ng-repeat="user in users"
                ng-value="user">
          {{user.nick}}
        </option>
      </select>
    </div>
  </div>
  <record-widget on-back="cancelRecord()"
                 record-handler="onRecord"
                 is-disabled="saving"></record-widget>

  <span exercise="selectedExercise">
    <div ng-show="exerciseStats.totalSets > 0">
      <div class="row">
        <div class="col-xs-12 col-sm-3">
          Total Sets Performed: {{exerciseStats.totalSets}}
        </div>
        <div class="col-xs-12 col-sm-3">
          Weight PR: {{exerciseStats.bestWeight.weight}}x{{exerciseStats.bestWeight.reps}}
        </div>
        <div class="col-xs-12 col-sm-3">
          Reps PR: {{exerciseStats.bestReps.weight}}x{{exerciseStats.bestReps.reps}}
        </div>
      </div>
    </div>
  </span>

  <div ng-show="previousSets.length > 0">
    <table>
      <thead>
      <tr>
        <th>Weight</th>
        <th>Reps</th>
        <th>Performed</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="set in previousSets | orderBy:['performedDate']">
        <td>{{set.weight}}</td>
        <td>{{set.reps}}</td>
        <td>{{set.performedDate | relativeTime}}</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
